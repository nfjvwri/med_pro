<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BMI Calculator</title>
  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --text:#222;
      --muted:#6b7280;
      --accent:#7c3aed;
      --success:#16a34a;
      --warning:#f59e0b;
      --danger:#ef4444;
      --info:#0ea5e9;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: linear-gradient(180deg,var(--bg),#eef2ff);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      transition:background 600ms ease;
    }
    .wrap{
      width:100%;
      max-width:820px;
      display:grid;
      grid-template-columns:1fr 380px;
      gap:28px;
      align-items:start;
    }
    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 18px;color:var(--muted)}

    /* Input card */
    .card{
      background:var(--card);
      border-radius:14px;
      box-shadow:0 8px 30px rgba(16,24,40,0.06);
      padding:22px;
    }
    form .row{display:flex;gap:12px;margin-bottom:12px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    input[type=number]{
      width:100%;padding:10px 12px;border-radius:8px;border:1px solid #e6e9ef;font-size:15px;
    }
    .actions{display:flex;gap:10px;margin-top:12px}
    button{padding:10px 14px;border-radius:10px;border:0;font-weight:600;cursor:pointer}
    .btn-primary{background:var(--accent);color:white}
    .btn-ghost{background:transparent;border:1px solid #e6e9ef}

    /* Result column */
    .result-wrap{position:relative}
    .result-card{
      display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:center;
      padding:28px;border-radius:14px;text-align:center;min-height:220px;
      transition:transform 400ms cubic-bezier(.2,.9,.3,1), box-shadow 400ms;
      background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.6));
    }
    .score{font-size:48px;font-weight:700;margin:6px 0}
    .category{font-weight:700;text-transform:uppercase;letter-spacing:0.08em}
    .advice{color:var(--muted);font-size:14px}

    /* Visual indicator bar */
    .bar{width:100%;height:12px;border-radius:999px;background:#eef2ff;overflow:hidden;margin-top:12px}
    .bar > i{display:block;height:100%;width:0;border-radius:999px;background:var(--accent);transition:width 700ms ease}

    /* States */
    .underweight{--accent: #60a5fa; --bg: #f0f9ff}
    .healthy{--accent: #34d399; --bg: #f0fdf4}
    .overweight{--accent: #f59e0b; --bg: #fff7ed}
    .obese{--accent: #ef4444; --bg: #fff1f2}

    /* subtle animations */
    .pulse{animation:pulse 1100ms ease both}
    @keyframes pulse{0%{transform:scale(.98)}50%{transform:scale(1.03)}100%{transform:scale(1)}}

    /* responsive */
    @media (max-width:860px){
      .wrap{grid-template-columns:1fr;}
    }

    footer{margin-top:14px;color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <main class="wrap">
    <section class="card">
      <h1>BMI Calculator</h1>
      <p class="lead">Enter weight and height — values in kilograms and centimeters. The app will compute your BMI and show health advice.</p>

      <form id="bmiForm" onsubmit="return false;" aria-label="BMI calculator form">
        <div class="row">
          <div style="flex:1">
            <label for="weight">Weight (kg)</label>
            <input id="weight" type="number" inputmode="decimal" min="1" step="0.1" placeholder="e.g. 62.5" required />
          </div>
          <div style="width:140px">
            <label for="height">Height (cm)</label>
            <input id="height" type="number" inputmode="decimal" min="30" step="0.1" placeholder="e.g. 170" required />
          </div>
        </div>

        <div class="row">
          <div style="flex:1">
            <label for="age">Age (optional)</label>
            <input id="age" type="number" inputmode="numeric" min="1" step="1" placeholder="Optional" />
          </div>
          <div style="width:140px;display:flex;align-items:flex-end;">
            <div style="width:100%">
              <label style="visibility:hidden">calc</label>
              <div class="actions">
                <button class="btn-primary" id="calcBtn">Calculate</button>
                <button class="btn-ghost" id="resetBtn" type="button">Reset</button>
              </div>
            </div>
          </div>
        </div>

      </form>

      <footer>Tip: BMI is a simple screening tool — it doesn't distinguish muscle from fat. For clinical advice, consult a professional.</footer>
    </section>

    <aside class="result-wrap">
      <div id="resultCard" class="result-card">
        <div style="font-size:13px;color:var(--muted)">Your BMI</div>
        <div id="bmiScore" class="score">—</div>
        <div id="bmiCategory" class="category">Waiting for input</div>
        <div class="bar" aria-hidden="true"><i id="barFill"></i></div>
        <div id="advice" class="advice">Enter weight and height, then press Calculate.</div>
      </div>
    </aside>
  </main>

  <script>
    const weightInput = document.getElementById('weight');
    const heightInput = document.getElementById('height');
    const calcBtn = document.getElementById('calcBtn');
    const resetBtn = document.getElementById('resetBtn');
    const bmiScore = document.getElementById('bmiScore');
    const bmiCategory = document.getElementById('bmiCategory');
    const advice = document.getElementById('advice');
    const resultCard = document.getElementById('resultCard');
    const barFill = document.getElementById('barFill');

    // BMI categories and messages
    const categories = [
      {key:'underweight', label:'Underweight', range:[0,18.5], msg:'Your BMI is below the healthy range. Consider a nutrient-rich diet and consult a professional if concerned.'},
      {key:'healthy', label:'Healthy', range:[18.5,24.9], msg:'Great — your BMI is in the healthy range. Keep up balanced diet and regular activity.'},
      {key:'overweight', label:'Overweight', range:[25,29.9], msg:'You are above the healthy BMI range. Consider lifestyle changes such as increased activity and dietary adjustments.'},
      {key:'obese', label:'Obese', range:[30,100], msg:'BMI indicates obesity. It may help to seek guidance from a healthcare professional for personalized advice.'}
    ];

    function calcBMI(){
      const w = parseFloat(weightInput.value);
      const hcm = parseFloat(heightInput.value);
      if (!isFinite(w) || !isFinite(hcm) || w <= 0 || hcm <= 0) {
        shake();
        return;
      }
      const h = hcm / 100; // cm to meters
      const bmi = w / (h * h);
      const rounded = Math.round(bmi * 10) / 10; // one decimal

      // find category
      const cat = categories.find(c => rounded >= c.range[0] && rounded <= c.range[1]) || categories[3];

      // update UI
      bmiScore.textContent = rounded;
      bmiCategory.textContent = cat.label;
      advice.textContent = cat.msg;

      // set visual state on body and result card
      document.body.classList.remove('underweight','healthy','overweight','obese');
      document.body.classList.add(cat.key);
      resultCard.classList.remove('pulse');
      // small delay to restart animation
      void resultCard.offsetWidth;
      resultCard.classList.add('pulse');

      // progress bar mapping: treat 12 -> 40+ as scale
      const min = 12, max = 40; // for visual mapping
      const pct = Math.max(0, Math.min(1, (rounded - min) / (max - min)));
      barFill.style.width = Math.round(pct * 100) + '%';

      // small shadow highlight
      resultCard.style.boxShadow = '0 18px 40px rgba(16,24,40,0.12)';

      // accessible live update
      resultCard.setAttribute('aria-live','polite');
    }

    function reset(){
      weightInput.value = '';
      heightInput.value = '';
      document.body.classList.remove('underweight','healthy','overweight','obese');
      bmiScore.textContent = '—';
      bmiCategory.textContent = 'Waiting for input';
      advice.textContent = 'Enter weight and height, then press Calculate.';
      barFill.style.width = '0%';
      resultCard.style.boxShadow = '';
    }

    function shake(){
      resultCard.animate([
        { transform: 'translateX(0)' },
        { transform: 'translateX(-8px)' },
        { transform: 'translateX(8px)' },
        { transform: 'translateX(0)' }
      ], { duration: 420, iterations: 1 });
    }

    calcBtn.addEventListener('click', calcBMI);
    resetBtn.addEventListener('click', reset);

    // allow Enter to calculate when inside inputs
    [weightInput, heightInput].forEach(el => {
      el.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') { e.preventDefault(); calcBMI(); }
      });
    });
  </script>
</body>
</html>
